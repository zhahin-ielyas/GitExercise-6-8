{% extends 'base.html' %}

{% block content %}
<h2>{{ recipe.title }}</h2>
<img src="{{ recipe.image }}" alt="{{ recipe.title }}" class="img-fluid mb-3" style="max-width:400px;">

<h4>Ingredients</h4>
<ul>
  {% for ingredient in recipe.extendedIngredients %}
    <li>{{ ingredient.original }}</li>
  {% endfor %}
</ul>

<h4>Instructions</h4>
{% if recipe.instructions %}
  {{ recipe.instructions|safe }}
{% else %}
  <p>No instructions available.</p>
{% endif %}

{% if source == "saved" %}
  <a href="{% url 'view_saved_recipes' %}"><button type="submit" class="btn btn-recipe-alt w -100">← Back to Saved Recipes</button></a>
{% elif source == "recipe_list" %}
  <a href="{% url 'recipe_list' %}"><button type="submit" class="btn btn-recipe-alt w -100">← Back to Recipe List</button></a>
{% elif source == "search" %}
  <a href="{% url 'search_recipe' %}?recipe_q={{ request.GET.recipe_q|urlencode }}"><button type="submit" class="btn btn-recipe-alt w -100">← Back to Recipes</button></a>
{% else %}
  <a href="{% url 'generate_recipes' %}"><button type="submit" class="btn btn-recipe-alt w -100">← Back to Generated Recipes</button></a>
{% endif %}

{% endblock %}
